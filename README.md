# Бот для фотоотчетов по мерчендайзингу

## Возможности
Telegram-бот для создания фотоотчетов по мерчендайзингу в аптечных(торговых) сетях
- Создание отчетов по препаратам(товарам) собственного бренда
- Фотоотчеты по конкурентным препаратам(товарам)
- Формирование перечня категорий, сетей
- Тестовые данные для старта приложения

## Cтек использованных технологий:
```
Python
Django
SQLite
python-telegram-bot
```

## Структура проекта
1. bot.py - основной файл бота, запуск
2. handlers.py - обработчики команд бота
3. manage.py - управление Django
4. reports/ - основное приложение Django
5. data/ - тестовые данные в CSV
6. constants/ - константы проекта
7. media/ - архив фотоотчетов, помесячное представление в разрезе сетей/категорий/брендов

## Как запустить проект:
Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/IvanPrudey/photo_report.git
```
``` 
cd photo_report
```

Cоздать и активировать виртуальное окружение: 
``` 
python -m venv venv 
``` 
``` 
source venv/Scripts/activate 
```

Установить зависимости из файла requirements.txt: 
``` 
python -m pip install --upgrade pip 
``` 
``` 
pip install -r requirements.txt 
```

Создать и выполнить миграции:
```
python manage.py makemigrations
```
```
python manage.py migrate
```

Загрузить тестовые данные, при необходимости:
1. (Вымышленные названия сетей, брендов + категории)
```
python manage.py load_data
```

В файле секретов .env указать:
```
BOT_TOKEN=токен_бота_Telegram
```

Запустить бота:
```
python bot.py
```

Открыть Telegram, найти бота и использовать команды:
1. начало работы
```
/start
```
2. создать новый отчет
```
/new_report
```

## Для работы с админпанелью:

Создать суперпользователя:
```
python manage.py createsuperuser
```

в отдельном bash терминале запустить сервер:
```
python manage.py runserver
```

в браузере перейти по адресу и зайти под логином и паролем суперпользователя:
```
http://127.0.0.1:8000/admin
```